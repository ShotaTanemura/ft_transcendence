global:
  scrape_interval:     15s 
  evaluation_interval: 15s 

  external_labels:
      monitor: 'codelab-monitor'

rule_files:
  - '/etc/prometheus/server-down.rules'

scrape_configs:
  - job_name: 'django'
    metrics_path: '/metrics/metrics'
    scheme: 'http'
    static_configs:
      - targets: ['app:8000']
    basic_auth:
      username: 'admin'
      password: 'password123'
  - job_name: 'nginx'
    scheme: 'http'
    static_configs:
      - targets: ['nginx-exporter:9113']
      
alerting:
  alertmanagers:
    - static_configs:
      - targets:
        - 'alertmanager:9093'
